<div x-data="profile_avatar">
    <div class="page-header">
        <button class="back-btn" @click="$dispatch('app:goback')">
            <i class="fas fa-chevron-left"></i>
        </button>
        <h1>Chỉnh sửa hồ sơ</h1>
    </div>

    <main class="main" style="padding: 16px;">

        <div class="avatar-preview-container">
            <div class="avatar-preview-wraper">
                <img :src="newAvatarPreview || $store.user.photo_url" alt="Ảnh đại diện" class="avatar-preview" />
                <label for="profile_avatar_inpFileAvt">Ảnh mới</label>
                <input type="file" id="profile_avatar_inpFileAvt" accept="image/*" @change="handleFileChange" />
            </div>
        </div>

        <br />
        <div class="form-group floatForm">
            <label for="newName">Tên hiển thị</label>
            <input type="text" id="newName" class="form-control" placeholder="Nhập tên mới của bạn">
        </div>

        <button class="btn" style="width: 100%; margin-top: 30px;"
                :disabled="!newAvatarFile"
                :style="!newAvatarFile && { opacity: 0.5, cursor: 'not-allowed' }"
                @click.prevent="saveAvatar()">
            Lưu thông tin
        </button>
    </main>
</div>

